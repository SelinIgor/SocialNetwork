(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){e.exports={Nav:"Nav_Nav__1LUYF",nav:"Nav_nav__3T7Hp",active:"Nav_active__3PK3b",Container:"Nav_Container__uhMxr",menu:"Nav_menu__14YgA"}},134:function(e,t,a){e.exports={musicContainer:"Music_musicContainer__21OQf"}},135:function(e,t,a){e.exports={messagesItem:"MassegesItem_messagesItem__3DRQ4"}},137:function(e,t,a){e.exports=a.p+"static/media/user.83bd44a6.png"},138:function(e,t,a){e.exports=a.p+"static/media/prel.6e5d6096.gif"},140:function(e,t,a){},142:function(e,t,a){e.exports={settingsContainer:"Setting_settingsContainer__3pTNN"}},169:function(e,t,a){e.exports=a(294)},174:function(e,t,a){},175:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(70),s=a.n(o);a(174),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(20),l=a(21),c=a(23),u=a(22),m=(a(175),a(11)),p=a.n(m),d=a(10),f=a(9),g=a(8),h=a(132).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"14afbc17-5def-47a5-befe-a2e4e52003d8"}}),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return h.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},v=function(e){return h.post("follow/".concat(e))},_=function(e){return h.delete("follow/".concat(e))},b=function(e){return h.get("profile/".concat(e))},P=function(){return h.get("auth/me")},k=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h.post("/auth/login",{email:e,password:t,rememberMe:a,captcha:n})},N=function(){return h.delete("/auth/login")},O=function(e){return h.get("profile/status/"+e)},C=function(e){return h.put("profile/status/",{status:e})},S=function(e){var t=new FormData;return t.append("image",e),h.put("profile/photo",t,{headers:{"content-type":"multipart/form-data"}})},w=function(e){return h.put("profile",e)},j=function(){return h.get("security/get-captcha-url")},y=a(25),I={data:{id:null,email:null,login:null,isAuth:!1,photo:null,captchaUrl:null}},U=function(e,t,a,n){return{type:"SET_USER_DATA",data:{id:e,email:t,login:a,isAuth:n}}},D=function(){return function(e){return P().then((function(t){if(0===t.data.resultCode){var a=t.data.data,n=a.id,r=a.email,o=a.login;e(U(n,r,o,!0))}}))}},x=function(){return function(e){j().then((function(t){var a=t.data.url;e(function(e){return{type:"GET_CAPTCHA_URL",captchaUrl:e}}(a))}))}},T=function(){return function(e){N().then((function(t){0===t.data.resultCode&&e(U(null,null,null,!1))}))}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(g.a)({},e,{},t.data);case"GET_CAPTCHA_URL":return Object(g.a)({},e,{captchaUrl:t.captchaUrl});default:return e}};var M,L=Object(f.b)((function(e){return{isAuth:e.auth.isAuth}}),{logout:T})((function(e){return r.a.createElement("nav",{className:p.a.Nav,id:"navigation"},r.a.createElement("div",{className:p.a.topNav},r.a.createElement("div",{className:p.a.Container},r.a.createElement("div",{className:p.a.menu},r.a.createElement(d.b,{to:"/profile",className:p.a.nav,activeClassName:p.a.active},"Profile"),r.a.createElement(d.b,{to:"/messages",className:p.a.nav,activeClassName:p.a.active},"Messages"),r.a.createElement(d.b,{to:"/music",className:p.a.nav,activeClassName:p.a.active},"Music"),r.a.createElement(d.b,{to:"/users",className:p.a.nav,activeClassName:p.a.active}," Users"),r.a.createElement(d.b,{to:"/setting",className:p.a.nav,activeClassName:p.a.active}," Setting")),r.a.createElement("div",null,e.isAuth?r.a.createElement(d.b,{to:"#",className:p.a.nav,onClick:e.logout},"Exit"):r.a.createElement(d.b,{className:p.a.nav,activeClassName:p.a.active,to:"/login"},"Login")))))})),F=a(30),z=a(134),R=a.n(z),B=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:R.a.musicContainer},"Coming soon..."))},G=a(45),H={masseges:[{text:"Hi there"},{text:"What Am I doing wrong?"},{text:"Nothing. Cant get it"},{text:"Okey"}],dialogs:[{name:"Igor",id:1,kartinka:"https://i.pinimg.com/736x/c9/eb/dd/c9ebddca44e1b308c672e641af252be5.jpg"},{name:"Nestor",id:2,kartinka:"https://avatarko.ru/img/kartinka/33/multfilm_lyagushka_32117.jpg"},{name:"Marta",id:3,kartinka:"https://hahadu.ru/wp-content/uploads/2019/07/3-20.jpg"},{name:"Oleg",id:4,kartinka:"https://focus.ua/storage/pub/images/2017/2615387.jpg"}]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SMS":var a=Object(g.a)({},e,{masseges:Object(G.a)(e.masseges)}),n={text:t.newMassage};return a.masseges.push(n),a;default:return e}},V=a(47),Z=a.n(V),K=a(37),Y=a.n(K),q=function(e){var t="/Masseges/"+e.id;return r.a.createElement("div",{className:Y.a.dialogs},r.a.createElement("div",{className:Y.a.photo},r.a.createElement("img",{src:e.kartinka,className:Y.a.kartinka})),r.a.createElement("div",{className:Y.a.nameDialog},r.a.createElement(d.b,{to:t,activeClassName:Y.a.active,className:Y.a.nameDialog},e.name)))},J=a(135),Q=a.n(J),X=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:Q.a.messagesItem},e.text))},$=a(128),ee=a(129),te=a(143),ae=a(35),ne=a.n(ae),re=a(41),oe=a.n(re),se=function(e){return function(t){var a=t.input,n=t.meta,o=t.className,s=Object(te.a)(t,["input","meta","className"]),i=n.touched&&n.error,l=oe()(o,i&&ne.a.error);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(e,Object.assign({},a,s,{className:l}))),i&&r.a.createElement("span",{className:ne.a.spanError},n.error))}},ie=se("textarea"),le=(M=50,function(e){if(e&&e.length>M)return"Must be ".concat(M," characters or less")}),ce=Object(ee.a)({form:"addMassage"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement($.a,{className:Z.a.textarea,component:ie,validate:[le],name:"newMassegeBody"}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:Z.a.shareButton}," Send")))})),ue=function(e){var t=e.dialogsPage.masseges.map((function(e){return r.a.createElement(X,{text:e.text})})),a=e.dialogsPage.dialogs.map((function(e){return r.a.createElement(q,{key:e.id,name:e.name,id:e.id,kartinka:e.kartinka})}));return r.a.createElement("div",{className:Z.a.mainMessages},r.a.createElement("div",{className:Z.a.dialogsContainer},a),r.a.createElement("div",{className:Z.a.dialogs},r.a.createElement("div",null,"  ",t),r.a.createElement("div",null,r.a.createElement(ce,{onSubmit:function(t){e.sendSms(t.newMassegeBody)}}))))},me=a(6),pe=function(e){return{isAuth:e.auth.isAuth,authorizedUserID:e.auth.id}},de=function(e){return Object(me.d)(Object(f.b)(pe,{}))((function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(F.a,{to:"/login"})}))},fe=Object(me.d)(Object(f.b)((function(e){return{dialogsPage:e.MassagePage}}),(function(e){return{sendSms:function(t){e(function(e){return{type:"ADD_SMS",newMassage:e}}(t))}}})),de)(ue),ge=a(48),he=a.n(ge),Ee=a(137),ve=a.n(Ee),_e=function(e){return r.a.createElement("div",null,e.users.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("div",null,r.a.createElement("div",{className:he.a.container},r.a.createElement("div",null,r.a.createElement("div",{className:he.a.avatarName},r.a.createElement(d.b,{to:"/profile/"+t.id},r.a.createElement("img",{alt:"user's photo",className:he.a.userImg,src:null!=t.photos.small?t.photos.small:ve.a})),r.a.createElement("div",null,t.name),r.a.createElement("div",{className:he.a.followBtn},t.followed?r.a.createElement("button",{disabled:e.followProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)}}," unfollow"):r.a.createElement("button",{disabled:e.followProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"follow")))),r.a.createElement("div",{className:he.a.infoUser},r.a.createElement("div",null,r.a.createElement("p",null," ",t.status&&"Status: ".concat(t.status))),r.a.createElement("div",null,r.a.createElement("p",null,"User id: ",t.id))))))})))},be=a(138),Pe=a.n(be),ke=a(95),Ne=a.n(ke),Oe=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:Ne.a.preloaderConatiner},r.a.createElement("img",{src:Pe.a,className:Ne.a.preloader})))},Ce={users:[],pageSize:5,totalUsersCount:60,currentPage:1,portionSize:10,isFetching:!1,followProgress:[]},Se=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},we=function(e,t){return{type:"FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(g.a)({},e,{users:e.users.map((function(e){return e.id===t.usersId&&(e=Object(g.a)({},e,{followed:!0})),e}))});case"UNFOLLOW":return Object(g.a)({},e,{users:e.users.map((function(e){return e.id===t.usersId&&(e=Object(g.a)({},e,{followed:!1})),e}))});case"SET_USERS":return Object(g.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(g.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(g.a)({},e,{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(g.a)({},e,{isFetching:t.isFetching});case"FOLLOWING_IN_PROGRESS":return Object(g.a)({},e,{followProgress:t.isFetching?[].concat(Object(G.a)(e.followProgress),[t.userId]):e.followProgress.filter((function(e){return e!==t.userId}))});default:return e}},ye=a(139),Ie=(Object(ye.a)((function(e){return e.UsersPage.users}),(function(e){return e})),function(e){return e.UsersPage.currentPage}),Ue=function(e){return e.UsersPage.isFetching},De=function(e){return e.UsersPage.followProgress},xe=a(36),Te=a(49),Ae=a.n(Te),Me=function(e,t){for(var a=t.portionSize,o=void 0===a?10:a,s=Math.ceil(e.totalUsersCount/e.pageSize),i=[],l=1;l<=s;l++)i.push(l);var c=Math.ceil(s/o),u=Object(n.useState)(1),m=Object(xe.a)(u,2),p=m[0],d=m[1],f=(p-1)*o+1,g=p*o;return r.a.createElement("div",null,r.a.createElement("div",{className:Ae.a.buttonsContainer},p>1&&r.a.createElement("button",{className:Ae.a.controlButton,onClick:function(){d(p-1),function(t){e.onClickChanged(t-o)}(f)}},"PREV"),r.a.createElement("div",null,i.filter((function(e){return e>=f&&e<=g})).map((function(t){return r.a.createElement("button",{onClick:function(){return e.onClickChanged(t)},className:oe()(Ae.a.button,e.currentPage===t&&Ae.a.selectedPage),key:t},t)}))),c>p&&r.a.createElement("button",{className:Ae.a.controlButton,onClick:function(){d(p+1),function(t){e.onClickChanged(t+o)}(f)}},"NEXT")))},Le=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClickChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Me,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onClickChanged:this.onClickChanged,currentPage:this.props.currentPage}),this.props.isFetching?r.a.createElement(Oe,null):r.a.createElement(_e,{users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress,followProgress:this.props.followProgress,portionSize:this.props.portionSize}," "))}}]),a}(r.a.Component),Fe=Object(f.b)((function(e){return{users:e.UsersPage.users,pageSize:e.UsersPage.pageSize,totalUsersCount:e.UsersPage.totalUsersCount,currentPage:Ie(e),isFetching:Ue(e),followProgress:De(e),portionSize:e.UsersPage.portionSize}}),{followingInProgress:we,getUsers:function(e,t){return function(a){a(function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}}(e)),a(Se(!0)),E(e,t).then((function(e){a(Se(!1)),a({type:"SET_USERS",users:e.items}),a({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:e.totalCount})}))}},follow:function(e){return function(t){t(we(!0,e)),v(e).then((function(a){0===a.data.resultCode&&t({type:"FOLLOW",usersId:e}),t(we(!1,e))}))}},unfollow:function(e){return function(t){t(we(!0,e)),_(e).then((function(a){0===a.data.resultCode&&t({type:"UNFOLLOW",usersId:e}),t(we(!1,e))}))}}})(Le),ze=a(140),Re=a.n(ze),Be=a(31),Ge=a.n(Be),He=a(96),We=a.n(He),Ve=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e.ActivateEditMode=function(){e.props.isOwner&&e.props.isOwner!==e.props.authorizedUserID||e.setState({editMode:!0})},e.DeactivateEditMode=function(){e.setState({editMode:!1},e.props.updateStatus(e.state.status))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){e!==this.props&&this.setState({status:this.props.status})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:We.a.mainContainer},!this.state.editMode&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:this.ActivateEditMode,className:We.a.statusText},this.props.status)),this.state.editMode&&r.a.createElement("div",null,r.a.createElement("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.DeactivateEditMode,value:this.state.status}))))}}]),a}(r.a.Component),Ze=a(59),Ke=a.n(Ze),Ye=se("input"),qe=Object(ee.a)({form:"profileData"})((function(e){return r.a.createElement("div",{className:Ke.a.container},r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:Ke.a.buttons},r.a.createElement("div",null," ",r.a.createElement("button",{className:Ke.a.btn,type:"submit"},"save")),r.a.createElement("div",null," ",r.a.createElement("button",{onClick:e.onCancel,className:Ke.a.btn},"cancel"))),e.error?r.a.createElement("div",{className:ne.a.spanError},e.error):void 0,"About me: ",r.a.createElement($.a,{type:"text",name:"aboutMe",placeholder:"",component:Ye}),"Your fullname ",r.a.createElement($.a,{type:"text",name:"fullName",placeholder:"",component:Ye}),"Are you looking for a job? ",r.a.createElement($.a,{type:"checkbox",name:"lookingForAJob",placeholder:"",component:Ye}),"Please tell us about your skills  ",r.a.createElement($.a,{type:"text",name:"lookingForAJobDescription",placeholder:"",component:Ye}),"You in social networks",Object.entries(e.profile.contacts).map((function(e){var t=Object(xe.a)(e,2),a=t[0];t[1];return r.a.createElement($.a,{type:"text",name:"contacts."+a,placeholder:a,component:Ye,key:a})}))))})),Je=function(e){var t=Object(n.useState)(!1),a=Object(xe.a)(t,2),o=a[0],s=a[1];if(!e.profile)return r.a.createElement(Oe,null);function i(t){t.target.files.length&&e.savePhoto(t.target.files[0])}var l=function(e){var t=e.contactTitle,a=e.contactValue;return r.a.createElement("div",null," ",t,":",a)},c=function(e){return r.a.createElement("div",null,r.a.createElement("p",null," About user: ",e.profile.aboutMe," "),r.a.createElement("p",null," Looking for a job: ",!0===e.profile.lookingForAJob?r.a.createElement("span",null,"yes"):r.a.createElement("span",null,"no")," "),r.a.createElement("div",null,"Description: ",null===e.profile.lookingForAJobDescription?r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequuntur corporis dolorum est eum ex inventore, ipsa laudantium minus nemo tempora."):e.profile.lookingForAJobDescription),r.a.createElement("div",null,r.a.createElement("p",null,"Contacts:"),Object.entries(e.profile.contacts).map((function(e){var t=Object(xe.a)(e,2),a=t[0],n=t[1];return n?r.a.createElement(l,{contactTitle:a,contactValue:n,key:a}):null}))))};var u=function(){return r.a.createElement("input",{type:"file",onChange:i})};return r.a.createElement("div",null,r.a.createElement("div",{className:Ge.a.container},r.a.createElement("div",{className:Ge.a.box},r.a.createElement("div",{className:Ge.a.background},null==e.profile.photos.small?r.a.createElement("img",{src:"https://i.pinimg.com/originals/a9/d0/96/a9d096ac9430a4f297ed99d42861ae9d.jpg",className:Ge.a.avatar}):r.a.createElement("img",{src:e.profile.photos.small,className:Ge.a.avatar}),r.a.createElement("div",null,"  ",(!e.isOwner||e.isOwner===e.authorizedUserID)&&r.a.createElement(u,null)),r.a.createElement("div",{className:Ge.a.userName},e.profile.fullName)),r.a.createElement("div",null,r.a.createElement(Ve,{updateStatus:e.updateStatus,status:e.status,authorizedUserID:e.authorizedUserID,isOwner:e.isOwner})),o?r.a.createElement(qe,{profile:e.profile,onSubmit:function(t){e.updateProfile(t),s(!1)},onCancel:e.onCancel}):r.a.createElement("div",null,r.a.createElement(c,{profile:e.profile}),o&&r.a.createElement("button",{onClick:function(t){if(!e.isOwner||e.isOwner===e.authorizedUserID)return s(!0)},className:Ge.a.btn},"edit")))))},Qe={profile:null,status:null,postData:[{massege:"Hello, sabaki! Ya naruto uzumaki",kartinka:"https://klike.net/uploads/posts/2019-03/1551511784_4.jpg",likes:201,id:1,liked:!1},{massege:"I wanna end me",kartinka:"https://klike.net/uploads/posts/2019-03/1551511784_4.jpg",likes:15,id:2,liked:!1},{massege:"Whats wrong with you?",kartinka:"https://klike.net/uploads/posts/2019-03/1551511784_4.jpg",likes:64,id:3,liked:!1}],buttonDef:"like"},Xe=function(e){return function(t){b(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}},$e=function(e){return{type:"SET_PROFILE_STATUS",status:e}},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={massege:t.newPostText,kartinka:"https://klike.net/uploads/posts/2019-03/1551511784_4.jpg",likes:12};return Object(g.a)({},e,{postData:[].concat(Object(G.a)(e.postData),[a])});case"ADD_LIKE":return Object(g.a)({},e,{postData:e.postData.map((function(e){return e.id===t.postId&&!1===e.liked?e=Object(g.a)({},e,{likes:e.likes+1,liked:!0}):e.id===t.postId&&!0===e.liked&&(e=Object(g.a)({},e,{likes:e.likes-1,liked:!1})),e}))});case"SET_USER_PROFILE":return Object(g.a)({},e,{profile:t.profile});case"SET_PROFILE_STATUS":return Object(g.a)({},e,{status:t.status});case"SAVE_PHOTO":return Object(g.a)({},e,{profile:Object(g.a)({},e.profile,{photos:t.photos})});default:return e}},tt=a(38),at=a.n(tt),nt=a(60),rt=a.n(nt),ot=function(e){return e.postData.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("div",{className:rt.a.item},r.a.createElement("div",{className:rt.a.container},r.a.createElement("div",{className:rt.a.avatar},r.a.createElement("img",{src:t.kartinka})),r.a.createElement("div",null,t.massege)),r.a.createElement("span",null,t.likes," likes ",r.a.createElement("button",{className:rt.a.shareButton,onClick:function(){e.addLike(t.id)}},t.liked?r.a.createElement("i",{className:"fas fa-heart"}," "):r.a.createElement("i",{className:"far fa-heart"}," ")))))}))},st=se("textarea"),it=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}}(30),lt=Object(ee.a)({form:"addPost"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement($.a,{validate:[it],name:"newPostText",component:st,className:at.a.textarea}),r.a.createElement("button",{type:"submit",className:at.a.shareButton},"Submit "))})),ct=function(e){return r.a.createElement("div",{className:at.a.container},r.a.createElement("div",{className:at.a.newPost},r.a.createElement("div",{className:at.a.myPost},"My posts"),r.a.createElement(lt,{onSubmit:function(t){e.addPost(t.newPostText)}})),r.a.createElement("div",{className:at.a.posts},r.a.createElement(ot,{postData:e.postData,addLike:e.addLike,buttonDef:e.buttonDef,profile:e.profile})))},ut=Object(f.b)((function(e){return{postData:e.ProfilePage.postData,newPostText:e.ProfilePage.newPostText,buttonDef:e.ProfilePage.buttonDef,profile:e.ProfilePage.profile}}),{addPost:function(e){return{type:"ADD_POST",newPostText:e}},addLike:function(e){return{type:"ADD_LIKE",postId:e}}})(ct),mt=function(e){return r.a.createElement("div",{className:Re.a.container},r.a.createElement(Je,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,authorizedUserID:e.authorizedUserID,savePhoto:e.savePhoto,updateProfile:e.updateProfile,isOwner:e.isOwner}),r.a.createElement(ut,null))},pt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserID),this.props.getUserProfile(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(mt,{savePhoto:this.props.savePhoto,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,authorizedUserID:this.props.authorizedUserID,updateProfile:this.props.updateProfile,isOwner:this.props.match.params.userId})}}]),a}(r.a.Component),dt=Object(me.d)(Object(f.b)((function(e){return{profile:e.ProfilePage.profile,status:e.ProfilePage.status,authorizedUserID:e.auth.id}}),{getUserProfile:Xe,getProfileStatus:function(e){return function(t){O(e).then((function(e){t($e(e.data))}))}},updateStatus:function(e){return function(t){C(e).then((function(a){0===a.data.resultCode&&t($e(e))}))}},savePhoto:function(e){return function(t){S(e).then((function(e){0===e.data.resultCode&&t({type:"SAVE_PHOTO",photos:e.data.data.photos})}))}},updateProfile:function(e){return function(t,a){var n=a().auth.id;w(e).then((function(e){if(0===e.data.resultCode)t(Xe(n));else{var a=e.data.messages.length>0?e.data.messages[0]:"Something wrong";t(Object(y.a)("profileData",{_error:a}))}}))}}}),F.f,de)(pt),ft=a(61),gt=a.n(ft);var ht=function(e){return r.a.createElement("header",{className:gt.a.Header},r.a.createElement("div",{className:gt.a.headerContainer},r.a.createElement("div",{className:gt.a.logoContainer},r.a.createElement("div",null,r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Inkscape.logo.svg/390px-Inkscape.logo.svg.png"})),r.a.createElement("div",{className:gt.a.nameLogo},"Keetouch"))))},Et=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(ht,this.props)}}]),a}(r.a.Component),vt=Object(f.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,profile:e.ProfilePage.profile,id:e.auth.id}}),{logout:T,getUserProfile:Xe})(Et),_t=a(46),bt=a.n(_t),Pt=se("input"),kt=function(e){return e?void 0:"Required"},Nt=oe()(bt.a.btn,bt.a.btnSpecial),Ot=Object(ee.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement($.a,{type:"login",name:"email",placeholder:"your login",component:Pt,validate:kt}),r.a.createElement($.a,{type:"password",name:"password",placeholder:"your password",component:Pt,validate:kt}),r.a.createElement($.a,{type:"checkbox",name:"rememberMe",component:"input"})," remember me",e.error?r.a.createElement("div",{className:ne.a.spanError},e.error):r.a.createElement(r.a.Fragment,null),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement("img",{src:e.captchaUrl,alt:"captcha"}),r.a.createElement("div",null,r.a.createElement($.a,{type:"text",name:"captcha",placeholder:"enter symbols what you see",component:"input"}))," "),r.a.createElement("button",{type:"submit",className:Nt},"Submit"))})),Ct=Object(f.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,a,n){return function(r){k(e,t,a,n).then((function(e){if(0===e.data.resultCode)r(D());else{10===e.data.resultCode&&r(x());var t=e.data.messages.length>0?e.data.messages[0]:"Some error";r(Object(y.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?r.a.createElement(F.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("div",{className:bt.a.container},r.a.createElement("div",null,r.a.createElement("p",{className:bt.a.loginText}," LOGIN")),r.a.createElement(Ot,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})))})),St={initialized:!1},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_DONE":return Object(g.a)({},e,{initialized:!0});default:return e}},jt=a(141),yt=a(130),It=Object(me.c)({ProfilePage:et,MassagePage:W,UsersPage:je,auth:A,form:yt.a,appCommon:wt}),Ut=Object(me.e)(It,Object(me.a)(jt.a));window.store=Ut;var Dt=Ut,xt=a(97),Tt=a.n(xt),At=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:Tt.a.footerContainer},r.a.createElement("div",{className:Tt.a.authorInfo},"site design / logo \xa9 2020 Igor Selin; All rights aren't received")))},Mt=a(142),Lt=a.n(Mt),Ft=function(){return r.a.createElement("div",{className:Lt.a.settingsContainer},r.a.createElement("div",null," In processing"))},zt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(vt,null),r.a.createElement(L,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(F.b,{path:"/",render:function(){return r.a.createElement(F.a,{to:"/profile"})}}),r.a.createElement(F.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(dt,null)}}),r.a.createElement(F.b,{path:"/messages",render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(F.b,{path:"/users",render:function(){return r.a.createElement(Fe,null)}}),r.a.createElement(F.b,{path:"/music",component:B}),r.a.createElement(F.b,{path:"/login",render:function(){return r.a.createElement(Ct,null)}}),r.a.createElement(F.b,{path:"/setting",render:function(){return r.a.createElement(Ft,null)}})),r.a.createElement(At,null)):r.a.createElement(Oe,null)}}]),a}(r.a.Component),Rt=Object(me.d)(F.f,Object(f.b)((function(e){return{initialized:e.appCommon.initialized}}),{initializeApp:function(){return function(e){var t=e(D());Promise.all([t]).then((function(){e({type:"INITIALIZE_DONE"})}))}}}))(zt),Bt=function(){return r.a.createElement(d.a,null,r.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.6.1/css/all.css",integrity:"sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP",crossOrigin:"anonymous"}),r.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Notable&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,300;1,400;1,500;1,700;1,900&display=swap",rel:"stylesheet"}),r.a.createElement(f.a,{store:Dt},r.a.createElement(Rt,null))," ")};s.a.render(r.a.createElement(Bt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){e.exports={container:"ProfileInfo_container__1_p0L",background:"ProfileInfo_background__3w3Tb",avatar:"ProfileInfo_avatar__94gwH",userName:"ProfileInfo_userName__dvTmu",btn:"ProfileInfo_btn__2Ur7K",bnt:"ProfileInfo_bnt__1ggGH"}},35:function(e,t,a){e.exports={error:"FormsControls_error__2VFQj",spanError:"FormsControls_spanError__1Mq62"}},37:function(e,t,a){e.exports={dialogs:"DialogItem_dialogs__j5aoV",photo:"DialogItem_photo__1ZyNr",kartinka:"DialogItem_kartinka__38DFl",nameDialog:"DialogItem_nameDialog__20G0F",active:"DialogItem_active__1bIbB"}},38:function(e,t,a){e.exports={container:"MyPosts_container__1KYtV",textarea:"MyPosts_textarea__3jVek",myPost:"MyPosts_myPost__3qUC0",shareButton:"MyPosts_shareButton__3Puxw"}},46:function(e,t,a){e.exports={loginText:"LoginPage_loginText__2cd9n",container:"LoginPage_container__Z1pGd",btn:"LoginPage_btn__1s6sA",btnSpecial:"LoginPage_btnSpecial__hjrYd"}},47:function(e,t,a){e.exports={mainMessages:"Masseges_mainMessages__3kc2j",dialogsContainer:"Masseges_dialogsContainer__btPRW",textarea:"Masseges_textarea__36MHu",dialogs:"Masseges_dialogs__3AtMl",shareButton:"Masseges_shareButton__2rtqU"}},48:function(e,t,a){e.exports={userImg:"Users_userImg__3Ymve",container:"Users_container__2WnKZ",avatarName:"Users_avatarName__2HA0u",infoUser:"Users_infoUser___GaNi",followBtn:"Users_followBtn__2ZKZF"}},49:function(e,t,a){e.exports={selectedPage:"Paginator_selectedPage__19j_0",button:"Paginator_button__3QbqN",buttonsContainer:"Paginator_buttonsContainer__2afpd",controlButton:"Paginator_controlButton__VIn89"}},59:function(e,t,a){e.exports={buttons:"ProfileFormData_buttons__3OnP2",container:"ProfileFormData_container__ZVVt5",btn:"ProfileFormData_btn__FIfGe"}},60:function(e,t,a){e.exports={item:"Post_item__vBCga",container:"Post_container__35QhF",avatar:"Post_avatar__1ydsm",shareButton:"Post_shareButton__bNwaU"}},61:function(e,t,a){e.exports={Header:"Header_Header__1491N",logoContainer:"Header_logoContainer__342c1",nameLogo:"Header_nameLogo__1EBMh"}},95:function(e,t,a){e.exports={preloader:"Preloader_preloader__1eGGW"}},96:function(e,t,a){e.exports={mainContainer:"ProlifeStatus_mainContainer__p1Ia7",statusText:"ProlifeStatus_statusText__yTgLM"}},97:function(e,t,a){e.exports={footerContainer:"Footer_footerContainer__kQuAF",authorInfo:"Footer_authorInfo__2onlG"}}},[[169,1,2]]]);
//# sourceMappingURL=main.e9bc8df6.chunk.js.map