(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,a){e.exports={Nav:"Nav_Nav__1LUYF",nav:"Nav_nav__3T7Hp",active:"Nav_active__3PK3b",Container:"Nav_Container__uhMxr"}},133:function(e,t,a){e.exports={musicContainer:"Music_musicContainer__21OQf"}},134:function(e,t,a){e.exports={messagesItem:"MassegesItem_messagesItem__3DRQ4"}},136:function(e,t,a){e.exports=a.p+"static/media/user.83bd44a6.png"},137:function(e,t,a){e.exports=a.p+"static/media/prel.6e5d6096.gif"},139:function(e,t,a){},141:function(e,t,a){e.exports={settingsContainer:"Setting_settingsContainer__3pTNN"}},168:function(e,t,a){e.exports=a(293)},173:function(e,t,a){},174:function(e,t,a){},293:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(68),s=a.n(o);a(173),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(20),l=a(21),c=a(23),u=a(22),m=(a(174),a(11)),p=a.n(m),d=a(10),f=a(9),g=a(8),h=a(131).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"14afbc17-5def-47a5-befe-a2e4e52003d8"}}),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return h.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},v=function(e){return h.post("follow/".concat(e))},_=function(e){return h.delete("follow/".concat(e))},b=function(e){return h.get("profile/".concat(e))},P=function(){return h.get("auth/me")},k=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h.post("/auth/login",{email:e,password:t,rememberMe:a,captcha:n})},N=function(){return h.delete("/auth/login")},O=function(e){return h.get("profile/status/"+e)},C=function(e){return h.put("profile/status/",{status:e})},S=function(e){var t=new FormData;return t.append("image",e),h.put("profile/photo",t,{headers:{"content-type":"multipart/form-data"}})},y=function(e){return h.put("profile",e)},j=function(){return h.get("security/get-captcha-url")},w=a(25),I={data:{id:null,email:null,login:null,isAuth:!1,photo:null,captchaUrl:null}},U=function(e,t,a,n){return{type:"SET_USER_DATA",data:{id:e,email:t,login:a,isAuth:n}}},D=function(){return function(e){return P().then((function(t){if(0===t.data.resultCode){var a=t.data.data,n=a.id,r=a.email,o=a.login;e(U(n,r,o,!0))}}))}},x=function(){return function(e){j().then((function(t){var a=t.data.url;e(function(e){return{type:"GET_CAPTCHA_URL",captchaUrl:e}}(a))}))}},T=function(){return function(e){N().then((function(t){0===t.data.resultCode&&e(U(null,null,null,!1))}))}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(g.a)({},e,{},t.data);case"GET_CAPTCHA_URL":return Object(g.a)({},e,{captchaUrl:t.captchaUrl});default:return e}};var A,L=Object(f.b)((function(e){return{isAuth:e.auth.isAuth}}),{logout:T})((function(e){return r.a.createElement("div",{className:p.a.Nav},r.a.createElement("div",{className:p.a.topNav},r.a.createElement("div",{className:p.a.Container},r.a.createElement("div",null,r.a.createElement(d.b,{to:"/profile",className:p.a.nav,activeClassName:p.a.active},"Profile"),r.a.createElement(d.b,{to:"/messages",className:p.a.nav,activeClassName:p.a.active},"Messages"),r.a.createElement(d.b,{to:"/music",className:p.a.nav,activeClassName:p.a.active},"Music"),r.a.createElement(d.b,{to:"/users",className:p.a.nav,activeClassName:p.a.active}," Users"),r.a.createElement(d.b,{to:"/setting",className:p.a.nav,activeClassName:p.a.active}," Setting")),r.a.createElement("div",null,e.isAuth?r.a.createElement(d.b,{to:"#",className:p.a.nav,onClick:e.logout},"Exit"):r.a.createElement(d.b,{className:p.a.nav,activeClassName:p.a.active,to:"/login"},"Login")))))})),F=a(30),z=a(133),R=a.n(z),B=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:R.a.musicContainer},"Coming soon..."))},G=a(45),H={masseges:[{text:"Hi there"},{text:"What Am I doing wrong?"},{text:"Nothing. Cant get it"},{text:"Okey"}],dialogs:[{name:"Igor",id:1,kartinka:"https://i.pinimg.com/736x/c9/eb/dd/c9ebddca44e1b308c672e641af252be5.jpg"},{name:"Nestor",id:2,kartinka:"https://avatarko.ru/img/kartinka/33/multfilm_lyagushka_32117.jpg"},{name:"Marta",id:3,kartinka:"https://hahadu.ru/wp-content/uploads/2019/07/3-20.jpg"},{name:"Oleg",id:4,kartinka:"https://focus.ua/storage/pub/images/2017/2615387.jpg"}]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SMS":var a=Object(g.a)({},e,{masseges:Object(G.a)(e.masseges)}),n={text:t.newMassage};return a.masseges.push(n),a;default:return e}},V=a(37),Y=a.n(V),J=a(38),K=a.n(J),q=function(e){var t="/Masseges/"+e.id;return r.a.createElement("div",{className:K.a.dialogs},r.a.createElement("div",{className:K.a.photo},r.a.createElement("img",{src:e.kartinka,className:K.a.kartinka})),r.a.createElement("div",{className:K.a.nameDialog},r.a.createElement(d.b,{to:t,activeClassName:K.a.active,className:K.a.nameDialog},e.name)))},Q=a(134),Z=a.n(Q),X=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:Z.a.messagesItem},e.text))},$=a(127),ee=a(128),te=a(142),ae=a(35),ne=a.n(ae),re=a(71),oe=a.n(re),se=function(e){return function(t){var a=t.input,n=t.meta,o=t.className,s=Object(te.a)(t,["input","meta","className"]),i=n.touched&&n.error,l=oe()(o,i&&ne.a.error);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(e,Object.assign({},a,s,{className:l}))),i&&r.a.createElement("span",{className:ne.a.spanError},n.error))}},ie=se("textarea"),le=(A=50,function(e){if(e&&e.length>A)return"Must be ".concat(A," characters or less")}),ce=Object(ee.a)({form:"addMassage"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement($.a,{className:Y.a.textarea,component:ie,validate:[le],name:"newMassegeBody"}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:Y.a.shareButton}," Send")))})),ue=function(e){var t=e.dialogsPage.masseges.map((function(e){return r.a.createElement(X,{text:e.text})})),a=e.dialogsPage.dialogs.map((function(e){return r.a.createElement(q,{name:e.name,id:e.id,kartinka:e.kartinka})}));return r.a.createElement("div",{className:Y.a.mainMessages},r.a.createElement("div",{className:Y.a.dialogsItem},a),r.a.createElement("div",{className:Y.a.dialogs},t,r.a.createElement("div",{className:Y.a.inputMassage},r.a.createElement(ce,{onSubmit:function(t){e.sendSms(t.newMassegeBody)}}))))},me=function(e){return{isAuth:e.auth.isAuth}},pe=function(e){return Object(f.b)(me,{})((function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(F.a,{to:"/login"})}))},de=a(7),fe=Object(de.d)(Object(f.b)((function(e){return{dialogsPage:e.MassagePage}}),(function(e){return{sendSms:function(t){e(function(e){return{type:"ADD_SMS",newMassage:e}}(t))}}})),pe)(ue),ge={users:[],pageSize:5,totalUsersCount:60,currentPage:1,portionSize:10,isFetching:!1,followProgress:[]},he=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},Ee=function(e,t){return{type:"FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(g.a)({},e,{users:e.users.map((function(e){return e.id===t.usersId&&(e=Object(g.a)({},e,{followed:!0})),e}))});case"UNFOLLOW":return Object(g.a)({},e,{users:e.users.map((function(e){return e.id===t.usersId&&(e=Object(g.a)({},e,{followed:!1})),e}))});case"SET_USERS":return Object(g.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(g.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(g.a)({},e,{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(g.a)({},e,{isFetching:t.isFetching});case"FOLLOWING_IN_PROGRESS":return Object(g.a)({},e,{followProgress:t.isFetching?[].concat(Object(G.a)(e.followProgress),[t.userId]):e.followProgress.filter((function(e){return e!==t.userId}))});default:return e}},_e=a(36),be=a(47),Pe=a.n(be),ke=a(136),Ne=a.n(ke),Oe=function(e,t){for(var a=t.portionSize,o=void 0===a?10:a,s=Math.ceil(e.totalUsersCount/e.pageSize),i=[],l=1;l<=s;l++)i.push(l);var c=Math.ceil(s/o),u=Object(n.useState)(1),m=Object(_e.a)(u,2),p=m[0],f=m[1],g=(p-1)*o+1,h=p*o;return r.a.createElement("div",null,r.a.createElement("div",{className:Pe.a.paginator},p>1&&r.a.createElement("button",{onClick:function(){f(p-1),function(t){e.onClickChanged(t-o)}(g)}},"PREV"),r.a.createElement("div",{className:Pe.a.buttonsBlock},i.filter((function(e){return e>=g&&e<=h})).map((function(t){return r.a.createElement("button",{onClick:function(){return e.onClickChanged(t)},className:e.currentPage===t&&Pe.a.selectedPage,key:t},t)}))),c>p&&r.a.createElement("button",{onClick:function(){f(p+1),function(t){e.onClickChanged(t+o)}(g)}},"NEXT")),e.users.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("div",{className:Pe.a.Container},r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(d.b,{to:"/profile/"+t.id},r.a.createElement("img",{alt:"user's photo",className:Pe.a.userImg,src:null!=t.photos.small?t.photos.small:Ne.a}))),r.a.createElement("div",null,t.followed?r.a.createElement("button",{disabled:e.followProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)}}," unfollow"):r.a.createElement("button",{disabled:e.followProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"follow"))),r.a.createElement("div",null,r.a.createElement("div",null,t.name),r.a.createElement("div",null,r.a.createElement("p",null," ",t.status))),r.a.createElement("div",null," ","u.location.city"," ",r.a.createElement("br",null),"u.location.country")))})))},Ce=a(137),Se=a.n(Ce),ye=a(94),je=a.n(ye),we=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:je.a.preloaderConatiner},r.a.createElement("img",{src:Se.a,className:je.a.preloader})))},Ie=a(138),Ue=(Object(Ie.a)((function(e){return e.UsersPage.users}),(function(e){return e})),function(e){return e.UsersPage.currentPage}),De=function(e){return e.UsersPage.isFetching},xe=function(e){return e.UsersPage.followProgress},Te=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClickChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null," ",this.props.isFetching?r.a.createElement(we,null):r.a.createElement(r.a.Fragment,null),r.a.createElement(Oe,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onClickChanged:this.onClickChanged,currentPage:this.props.currentPage,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress,followProgress:this.props.followProgress,portionSize:this.props.portionSize}," "))}}]),a}(r.a.Component),Me=Object(f.b)((function(e){return{users:e.UsersPage.users,pageSize:e.UsersPage.pageSize,totalUsersCount:e.UsersPage.totalUsersCount,currentPage:Ue(e),isFetching:De(e),followProgress:xe(e),portionSize:e.UsersPage.portionSize}}),{followingInProgress:Ee,getUsers:function(e,t){return function(a){a(function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}}(e)),a(he(!0)),E(e,t).then((function(e){a(he(!1)),a({type:"SET_USERS",users:e.items}),a({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:e.totalCount})}))}},follow:function(e){return function(t){t(Ee(!0,e)),v(e).then((function(a){0===a.data.resultCode&&t({type:"FOLLOW",usersId:e}),t(Ee(!1,e))}))}},unfollow:function(e){return function(t){t(Ee(!0,e)),_(e).then((function(a){0===a.data.resultCode&&t({type:"UNFOLLOW",usersId:e}),t(Ee(!1,e))}))}}})(Te),Ae=a(139),Le=a.n(Ae),Fe=a(31),ze=a.n(Fe),Re=a(95),Be=a.n(Re),Ge=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e.ActivateEditMode=function(){e.setState({editMode:!0})},e.DeactivateEditMode=function(){e.setState({editMode:!1},e.props.updateStatus(e.state.status))},e}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){e!==this.props&&this.setState({status:this.props.status})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:Be.a.mainContainer},!this.state.editMode&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:this.ActivateEditMode,className:Be.a.statusText},this.props.status)),this.state.editMode&&r.a.createElement("div",null,r.a.createElement("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.DeactivateEditMode,value:this.state.status}))))}}]),a}(r.a.Component),He=a(57),We=a.n(He),Ve=se("input"),Ye=Object(ee.a)({form:"profileData"})((function(e){return r.a.createElement("div",{className:We.a.container},r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:We.a.buttons},r.a.createElement("div",null," ",r.a.createElement("button",{className:We.a.btn,type:"submit"},"save")),r.a.createElement("div",null," ",r.a.createElement("button",{onClick:e.onCancel,className:We.a.btn},"cancel"))),e.error?r.a.createElement("div",{className:ne.a.spanError},e.error):void 0,"About me: ",r.a.createElement($.a,{type:"text",name:"aboutMe",placeholder:"",component:Ve}),"Your fullname ",r.a.createElement($.a,{type:"text",name:"fullName",placeholder:"",component:Ve}),"Are you looking for a job? ",r.a.createElement($.a,{type:"checkbox",name:"lookingForAJob",placeholder:"",component:Ve}),"Please tell us about your skills  ",r.a.createElement($.a,{type:"text",name:"lookingForAJobDescription",placeholder:"",component:Ve}),"You in social networks",Object.entries(e.profile.contacts).map((function(e){var t=Object(_e.a)(e,2),a=t[0];t[1];return r.a.createElement($.a,{type:"text",name:"contacts."+a,placeholder:a,component:Ve,key:a})}))))})),Je=function(e){var t=Object(n.useState)(!1),a=Object(_e.a)(t,2),o=a[0],s=a[1];if(!e.profile)return r.a.createElement(we,null);var i=function(e){var t=e.contactTitle,a=e.contactValue;return r.a.createElement("div",null," ",t,":",a)},l=function(e){return r.a.createElement("div",null,r.a.createElement("p",null," About user: ",e.profile.aboutMe," "),r.a.createElement("p",null," Looking for a job: ",!0===e.profile.lookingForAJob?r.a.createElement("span",null,"yes"):r.a.createElement("span",null,"no")," "),r.a.createElement("div",null,"Description: ",null===e.profile.lookingForAJobDescription?r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequuntur corporis dolorum est eum ex inventore, ipsa laudantium minus nemo tempora."):e.profile.lookingForAJobDescription),r.a.createElement("div",null,r.a.createElement("p",null,"Contacts:"),Object.entries(e.profile.contacts).map((function(e){var t=Object(_e.a)(e,2),a=t[0],n=t[1];return n?r.a.createElement(i,{contactTitle:a,contactValue:n,key:a}):null}))))};return r.a.createElement("div",null,r.a.createElement("div",{className:ze.a.container},r.a.createElement("div",{className:ze.a.box},r.a.createElement("div",{className:ze.a.background},null==e.profile.photos.small?r.a.createElement("img",{src:"https://i.pinimg.com/originals/a9/d0/96/a9d096ac9430a4f297ed99d42861ae9d.jpg",className:ze.a.avatar}):r.a.createElement("img",{src:e.profile.photos.small,className:ze.a.avatar}),r.a.createElement("div",null,"  ",e.isOwner&&e.isOwner!==e.authorizedUserID?r.a.createElement(r.a.Fragment,null):r.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})),r.a.createElement("div",{className:ze.a.userName},e.profile.fullName)),r.a.createElement("div",null,r.a.createElement(Ge,{updateStatus:e.updateStatus,status:e.status})),o?r.a.createElement(Ye,{profile:e.profile,onSubmit:function(t){e.updateProfile(t),s(!1)},onCancel:e.onCancel}):r.a.createElement("div",null,r.a.createElement(l,{profile:e.profile}),r.a.createElement("button",{onClick:function(e){return s(!0)},className:ze.a.btn},"edit")))))},Ke={profile:null,status:null,postData:[{massege:"Hello, sabaki! Ya naruto uzumaki",kartinka:"https://klike.net/uploads/posts/2019-03/1551511784_4.jpg",likes:201,id:1,liked:!1},{massege:"I wanna end me",kartinka:"https://klike.net/uploads/posts/2019-03/1551511784_4.jpg",likes:15,id:2,liked:!1},{massege:"Whats wrong with you?",kartinka:"https://klike.net/uploads/posts/2019-03/1551511784_4.jpg",likes:64,id:3,liked:!1}],buttonDef:"like"},qe=function(e){return function(t){b(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}},Qe=function(e){return{type:"SET_PROFILE_STATUS",status:e}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={massege:t.newPostText,kartinka:"https://klike.net/uploads/posts/2019-03/1551511784_4.jpg",likes:12};return Object(g.a)({},e,{postData:[].concat(Object(G.a)(e.postData),[a])});case"ADD_LIKE":return Object(g.a)({},e,{postData:e.postData.map((function(e){return e.id===t.postId&&!1===e.liked?e=Object(g.a)({},e,{likes:e.likes+1,liked:!0}):e.id===t.postId&&!0===e.liked&&(e=Object(g.a)({},e,{likes:e.likes-1,liked:!1})),e}))});case"SET_USER_PROFILE":return Object(g.a)({},e,{profile:t.profile});case"SET_PROFILE_STATUS":return Object(g.a)({},e,{status:t.status});case"SAVE_PHOTO":return Object(g.a)({},e,{profile:Object(g.a)({},e.profile,{photos:t.photos})});default:return e}},Xe=a(39),$e=a.n(Xe),et=a(58),tt=a.n(et),at=function(e){return e.postData.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("div",{className:tt.a.item},r.a.createElement("div",{className:tt.a.container},r.a.createElement("div",{className:tt.a.avatar},r.a.createElement("img",{src:t.kartinka})),r.a.createElement("div",null,t.massege)),r.a.createElement("span",null,t.likes," likes ",r.a.createElement("button",{className:tt.a.shareButton,onClick:function(){e.addLike(t.id)}},t.liked?r.a.createElement("i",{className:"fas fa-heart"}," "):r.a.createElement("i",{className:"far fa-heart"}," ")))))}))},nt=se("textarea"),rt=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}}(30),ot=Object(ee.a)({form:"addPost"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement($.a,{validate:[rt],name:"newPostText",component:nt,className:$e.a.textarea}),r.a.createElement("button",{type:"submit",className:$e.a.shareButton},"Submit "))})),st=function(e){return r.a.createElement("div",{className:$e.a.container},r.a.createElement("div",{className:$e.a.newPost},r.a.createElement("div",{className:$e.a.myPost},"My posts"),r.a.createElement(ot,{onSubmit:function(t){e.addPost(t.newPostText)}})),r.a.createElement("div",{className:$e.a.posts},r.a.createElement(at,{postData:e.postData,addLike:e.addLike,buttonDef:e.buttonDef,profile:e.profile})))},it=Object(f.b)((function(e){return{postData:e.ProfilePage.postData,newPostText:e.ProfilePage.newPostText,buttonDef:e.ProfilePage.buttonDef,profile:e.ProfilePage.profile}}),{addPost:function(e){return{type:"ADD_POST",newPostText:e}},addLike:function(e){return{type:"ADD_LIKE",postId:e}}})(st),lt=function(e){return r.a.createElement("div",{className:Le.a.container},r.a.createElement(Je,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,authorizedUserID:e.authorizedUserID,savePhoto:e.savePhoto,updateProfile:e.updateProfile,isOwner:e.isOwner}),r.a.createElement(it,null))},ct=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(i.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserID),this.props.getUserProfile(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(lt,{savePhoto:this.props.savePhoto,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,authorizedUserID:this.props.authorizedUserID,updateProfile:this.props.updateProfile,isOwner:this.props.match.params.userId})}}]),a}(r.a.Component),ut=Object(de.d)(Object(f.b)((function(e){return{profile:e.ProfilePage.profile,status:e.ProfilePage.status,authorizedUserID:e.auth.id}}),{getUserProfile:qe,getProfileStatus:function(e){return function(t){O(e).then((function(e){t(Qe(e.data))}))}},updateStatus:function(e){return function(t){C(e).then((function(a){0===a.data.resultCode&&t(Qe(e))}))}},savePhoto:function(e){return function(t){S(e).then((function(e){0===e.data.resultCode&&t({type:"SAVE_PHOTO",photos:e.data.data.photos})}))}},updateProfile:function(e){return function(t,a){var n=a().auth.id;y(e).then((function(e){if(0===e.data.resultCode)t(qe(n));else{var a=e.data.messages.length>0?e.data.messages[0]:"Something wrong";t(Object(w.a)("profileData",{_error:a}))}}))}}}),F.f,pe)(ct),mt=a(59),pt=a.n(mt);var dt=function(e){return r.a.createElement("header",{className:pt.a.Header},r.a.createElement("div",{className:pt.a.headerContainer},r.a.createElement("div",{className:pt.a.logoContainer},r.a.createElement("div",null,r.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Inkscape.logo.svg/390px-Inkscape.logo.svg.png"})),r.a.createElement("div",{className:pt.a.nameLogo},"Keetouch"))))},ft=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(dt,this.props)}}]),a}(r.a.Component),gt=Object(f.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,profile:e.ProfilePage.profile,id:e.auth.id}}),{logout:T,getUserProfile:qe})(ft),ht=a(46),Et=a.n(ht),vt=se("input"),_t=function(e){return e?void 0:"Required"},bt=oe()(Et.a.btn,Et.a.btnSpecial),Pt=Object(ee.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement($.a,{type:"login",name:"email",placeholder:"your login",component:vt,validate:_t}),r.a.createElement($.a,{type:"password",name:"password",placeholder:"your password",component:vt,validate:_t}),r.a.createElement($.a,{type:"checkbox",name:"rememberMe",component:"input"})," remember me",e.error?r.a.createElement("div",{className:ne.a.spanError},e.error):r.a.createElement(r.a.Fragment,null),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement("img",{src:e.captchaUrl,alt:"captcha"}),r.a.createElement("div",null,r.a.createElement($.a,{type:"text",name:"captcha",placeholder:"enter symbols what you see",component:"input"}))," "),r.a.createElement("button",{type:"submit",className:bt},"Submit"))})),kt=Object(f.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,a,n){return function(r){k(e,t,a,n).then((function(e){if(0===e.data.resultCode)r(D());else{10===e.data.resultCode&&r(x());var t=e.data.messages.length>0?e.data.messages[0]:"Some error";r(Object(w.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?r.a.createElement(F.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("div",{className:Et.a.textContainer},r.a.createElement("div",null,r.a.createElement("p",{className:Et.a.loginText}," LOGIN")),r.a.createElement(Pt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})))})),Nt={initialized:!1},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_DONE":return Object(g.a)({},e,{initialized:!0});default:return e}},Ct=a(140),St=a(129),yt=Object(de.c)({ProfilePage:Ze,MassagePage:W,UsersPage:ve,auth:M,form:St.a,appCommon:Ot}),jt=Object(de.e)(yt,Object(de.a)(Ct.a));window.store=jt;var wt=jt,It=a(96),Ut=a.n(It),Dt=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:Ut.a.footerContainer},r.a.createElement("div",{className:Ut.a.authorInfo},"site design / logo \xa9 2020 Igor Selin; All rights aren't received")))},xt=a(141),Tt=a.n(xt),Mt=function(){return r.a.createElement("div",{className:Tt.a.settingsContainer},r.a.createElement("div",null," In processing"))},At=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(gt,null),r.a.createElement(L,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(F.b,{exact:!0,path:"/",render:function(){return r.a.createElement(F.a,{to:"/profile"})}}),r.a.createElement(F.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(ut,null)}}),r.a.createElement(F.b,{path:"/messages",render:function(){return r.a.createElement(fe,null)}}),r.a.createElement(F.b,{path:"/users",render:function(){return r.a.createElement(Me,null)}}),r.a.createElement(F.b,{path:"/music",component:B}),r.a.createElement(F.b,{path:"/login",render:function(){return r.a.createElement(kt,null)}}),r.a.createElement(F.b,{path:"/setting",render:function(){return r.a.createElement(Mt,null)}})),r.a.createElement(Dt,null)):r.a.createElement(we,null)}}]),a}(r.a.Component),Lt=Object(de.d)(F.f,Object(f.b)((function(e){return{initialized:e.appCommon.initialized}}),{initializeApp:function(){return function(e){var t=e(D());Promise.all([t]).then((function(){e({type:"INITIALIZE_DONE"})}))}}}))(At),Ft=function(){return r.a.createElement(d.a,null,r.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.6.1/css/all.css",integrity:"sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP",crossOrigin:"anonymous"}),r.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Notable&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,300;1,400;1,500;1,700;1,900&display=swap",rel:"stylesheet"}),r.a.createElement(f.a,{store:wt},r.a.createElement(Lt,null))," ")};s.a.render(r.a.createElement(Ft,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){e.exports={container:"ProfileInfo_container__1_p0L",background:"ProfileInfo_background__3w3Tb",avatar:"ProfileInfo_avatar__94gwH",userName:"ProfileInfo_userName__dvTmu",btn:"ProfileInfo_btn__2Ur7K",bnt:"ProfileInfo_bnt__1ggGH"}},35:function(e,t,a){e.exports={error:"FormsControls_error__2VFQj",spanError:"FormsControls_spanError__1Mq62"}},37:function(e,t,a){e.exports={mainMessages:"Masseges_mainMessages__3kc2j",dialogsItem:"Masseges_dialogsItem__pJwvL",inputMassage:"Masseges_inputMassage__1hFte",textarea:"Masseges_textarea__36MHu",dialogs:"Masseges_dialogs__3AtMl",shareButton:"Masseges_shareButton__2rtqU"}},38:function(e,t,a){e.exports={dialogs:"DialogItem_dialogs__j5aoV",photo:"DialogItem_photo__1ZyNr",kartinka:"DialogItem_kartinka__38DFl",nameDialog:"DialogItem_nameDialog__20G0F",active:"DialogItem_active__1bIbB"}},39:function(e,t,a){e.exports={container:"MyPosts_container__1KYtV",textarea:"MyPosts_textarea__3jVek",myPost:"MyPosts_myPost__3qUC0",shareButton:"MyPosts_shareButton__3Puxw"}},46:function(e,t,a){e.exports={loginText:"LoginPage_loginText__2cd9n",textContainer:"LoginPage_textContainer__1RMw2",btn:"LoginPage_btn__1s6sA",btnSpecial:"LoginPage_btnSpecial__hjrYd"}},47:function(e,t,a){e.exports={userImg:"Users_userImg__3Ymve",Container:"Users_Container__IdwkY",selectedPage:"Users_selectedPage__3egL6",buttonsBlock:"Users_buttonsBlock__2Tp75",paginator:"Users_paginator__QbDXh"}},57:function(e,t,a){e.exports={buttons:"ProfileFormData_buttons__3OnP2",container:"ProfileFormData_container__ZVVt5",btn:"ProfileFormData_btn__FIfGe"}},58:function(e,t,a){e.exports={item:"Post_item__vBCga",container:"Post_container__35QhF",avatar:"Post_avatar__1ydsm",shareButton:"Post_shareButton__bNwaU"}},59:function(e,t,a){e.exports={Header:"Header_Header__1491N",logoContainer:"Header_logoContainer__342c1",nameLogo:"Header_nameLogo__1EBMh"}},94:function(e,t,a){e.exports={preloader:"Preloader_preloader__1eGGW"}},95:function(e,t,a){e.exports={mainContainer:"ProlifeStatus_mainContainer__p1Ia7",statusText:"ProlifeStatus_statusText__yTgLM"}},96:function(e,t,a){e.exports={footerContainer:"Footer_footerContainer__kQuAF",authorInfo:"Footer_authorInfo__2onlG"}}},[[168,1,2]]]);
//# sourceMappingURL=main.a54ef9c9.chunk.js.map