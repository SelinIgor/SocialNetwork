(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,a){e.exports={Nav:"Nav_Nav__Q5tCT",nav:"Nav_nav__14NAx",active:"Nav_active__3UyPC",Container:"Nav_Container__1Fj8I",fixed:"Nav_fixed__2xYqv",burger:"Nav_burger__2jzvS",show:"Nav_show__1EBXT"}},132:function(e,t,a){e.exports={musicContainer:"Music_musicContainer__21OQf"}},134:function(e,t,a){e.exports={messagesItem:"MassegesItem_messagesItem__3DRQ4"}},137:function(e,t,a){e.exports=a.p+"static/media/user.83bd44a6.png"},138:function(e,t,a){e.exports=a.p+"static/media/prel.6e5d6096.gif"},141:function(e,t,a){},143:function(e,t,a){e.exports={settingsContainer:"Setting_settingsContainer__3pTNN"}},170:function(e,t,a){e.exports=a(295)},175:function(e,t,a){},176:function(e,t,a){},295:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(70),s=a.n(o);a(175),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i,l=a(20),c=a(21),u=a(23),m=a(22),p=(a(176),a(30)),d=a(11),f=a(132),g=a.n(f),h=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:g.a.musicContainer},"Coming soon..."))},E=a(46),v=a(8),_={masseges:[{text:"Hi there"},{text:"What Am I doing wrong?"},{text:"Nothing. Cant get it"},{text:"Okey"}],dialogs:[{name:"Igor",id:1,kartinka:"https://i.pinimg.com/736x/c9/eb/dd/c9ebddca44e1b308c672e641af252be5.jpg"},{name:"Nestor",id:2,kartinka:"https://i.pinimg.com/736x/c9/eb/dd/c9ebddca44e1b308c672e641af252be5.jpg"},{name:"Marta",id:3,kartinka:"https://i.pinimg.com/736x/c9/eb/dd/c9ebddca44e1b308c672e641af252be5.jpg"},{name:"Oleg",id:4,kartinka:"https://i.pinimg.com/736x/c9/eb/dd/c9ebddca44e1b308c672e641af252be5.jpg"}]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SMS":var a=Object(v.a)({},e,{masseges:Object(E.a)(e.masseges)}),n={text:t.newMassage};return a.masseges.push(n),a;default:return e}},P=a(48),N=a.n(P),O=a(38),k=a.n(O),C=function(e){return r.a.createElement("div",{className:k.a.dialogs},r.a.createElement("div",{className:k.a.photo},r.a.createElement("img",{src:e.kartinka,className:k.a.kartinka})),r.a.createElement("div",{className:k.a.nameDialog},r.a.createElement(d.b,{to:"/profile",activeClassName:k.a.active,className:k.a.nameDialog},e.name)))},w=a(134),S=a.n(w),y=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:S.a.messagesItem},e.text))},I=a(129),j=a(130),U=a(144),D=a(36),x=a.n(D),T=a(42),A=a.n(T),M=function(e){return function(t){var a=t.input,n=t.meta,o=t.className,s=Object(U.a)(t,["input","meta","className"]),i=n.touched&&n.error,l=A()(o,i&&x.a.error);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(e,Object.assign({},a,s,{className:l}))),i&&r.a.createElement("span",{className:x.a.spanError},n.error))}},L=M("textarea"),F=(i=50,function(e){if(e&&e.length>i)return"Must be ".concat(i," characters or less")}),z=Object(j.a)({form:"addMassage"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(I.a,{className:N.a.textarea,component:L,validate:[F],name:"newMassegeBody"}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:N.a.shareButton}," Send")))})),R=function(e){var t=e.dialogsPage.masseges.map((function(e){return r.a.createElement(y,{text:e.text})})),a=e.dialogsPage.dialogs.map((function(e){return r.a.createElement(C,{key:e.id,name:e.name,id:e.id,kartinka:e.kartinka})}));return r.a.createElement("div",{className:N.a.mainMessages},r.a.createElement("div",{className:N.a.dialogsContainer},a),r.a.createElement("div",{className:N.a.dialogs},r.a.createElement("div",null,"  ",t),r.a.createElement("div",null,r.a.createElement(z,{onSubmit:function(t){e.sendSms(t.newMassegeBody)}}))))},B=a(9),G=a(6),H=function(e){return{isAuth:e.auth.isAuth,authorizedUserID:e.auth.id}},W=function(e){return Object(G.d)(Object(B.b)(H,{}))((function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(p.a,{to:"/login"})}))},V=Object(G.d)(Object(B.b)((function(e){return{dialogsPage:e.MassagePage}}),(function(e){return{sendSms:function(t){e(function(e){return{type:"ADD_SMS",newMassage:e}}(t))}}})),W)(R),Z=a(49),q=a.n(Z),K=a(137),J=a.n(K),Q=function(e){return r.a.createElement("div",null,e.users.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("div",null,r.a.createElement("div",{className:q.a.container},r.a.createElement("div",null,r.a.createElement("div",{className:q.a.avatarName},r.a.createElement(d.b,{to:"/profile/"+t.id},r.a.createElement("img",{alt:"user's photo",className:q.a.userImg,src:null!=t.photos.small?t.photos.small:J.a})),r.a.createElement("div",null,t.name),r.a.createElement("div",{className:q.a.followBtn},t.followed?r.a.createElement("button",{disabled:e.followProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)}}," unfollow"):r.a.createElement("button",{disabled:e.followProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"follow")))),r.a.createElement("div",{className:q.a.infoUser},r.a.createElement("div",null,r.a.createElement("p",null," ",t.status&&"Status: ".concat(t.status))),r.a.createElement("div",null,r.a.createElement("p",null,"User id: ",t.id))))))})))},Y=a(138),X=a.n(Y),$=a(96),ee=a.n($),te=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:ee.a.preloaderConatiner},r.a.createElement("img",{src:X.a,className:ee.a.preloader})))},ae=a(139).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"14afbc17-5def-47a5-befe-a2e4e52003d8"}}),ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return ae.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},re=function(e){return ae.post("follow/".concat(e))},oe=function(e){return ae.delete("follow/".concat(e))},se=function(e){return ae.get("profile/".concat(e))},ie=function(){return ae.get("auth/me")},le=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ae.post("/auth/login",{email:e,password:t,rememberMe:a,captcha:n})},ce=function(){return ae.delete("/auth/login")},ue=function(e){return ae.get("profile/status/"+e)},me=function(e){return ae.put("profile/status/",{status:e})},pe=function(e){var t=new FormData;return t.append("image",e),ae.put("profile/photo",t,{headers:{"content-type":"multipart/form-data"}})},de=function(e){return ae.put("profile",e)},fe=function(){return ae.get("security/get-captcha-url")},ge={users:[],pageSize:5,totalUsersCount:60,currentPage:1,portionSize:10,isFetching:!1,followProgress:[]},he=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},Ee=function(e,t){return{type:"FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(v.a)({},e,{users:e.users.map((function(e){return e.id===t.usersId&&(e=Object(v.a)({},e,{followed:!0})),e}))});case"UNFOLLOW":return Object(v.a)({},e,{users:e.users.map((function(e){return e.id===t.usersId&&(e=Object(v.a)({},e,{followed:!1})),e}))});case"SET_USERS":return Object(v.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(v.a)({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(v.a)({},e,{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(v.a)({},e,{isFetching:t.isFetching});case"FOLLOWING_IN_PROGRESS":return Object(v.a)({},e,{followProgress:t.isFetching?[].concat(Object(E.a)(e.followProgress),[t.userId]):e.followProgress.filter((function(e){return e!==t.userId}))});default:return e}},_e=a(140),be=(Object(_e.a)((function(e){return e.UsersPage.users}),(function(e){return e})),function(e){return e.UsersPage.currentPage}),Pe=function(e){return e.UsersPage.isFetching},Ne=function(e){return e.UsersPage.followProgress},Oe=a(37),ke=a(50),Ce=a.n(ke),we=function(e,t){for(var a=t.portionSize,o=void 0===a?10:a,s=Math.ceil(e.totalUsersCount/e.pageSize),i=[],l=1;l<=s;l++)i.push(l);var c=Math.ceil(s/o),u=Object(n.useState)(1),m=Object(Oe.a)(u,2),p=m[0],d=m[1],f=(p-1)*o+1,g=p*o;return r.a.createElement("div",null,r.a.createElement("div",{className:Ce.a.buttonsContainer},p>1&&r.a.createElement("button",{className:Ce.a.controlButton,onClick:function(){d(p-1),function(t){e.onClickChanged(t-o)}(f)}},"PREV"),r.a.createElement("div",null,i.filter((function(e){return e>=f&&e<=g})).map((function(t){return r.a.createElement("button",{onClick:function(){return e.onClickChanged(t)},className:A()(Ce.a.button,e.currentPage===t&&Ce.a.selectedPage),key:t},t)}))),c>p&&r.a.createElement("button",{className:Ce.a.controlButton,onClick:function(){d(p+1),function(t){e.onClickChanged(t+o)}(f)}},"NEXT")))},Se=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClickChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(we,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onClickChanged:this.onClickChanged,currentPage:this.props.currentPage}),this.props.isFetching?r.a.createElement(te,null):r.a.createElement(Q,{users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress,followProgress:this.props.followProgress,portionSize:this.props.portionSize}," "))}}]),a}(r.a.Component),ye=Object(B.b)((function(e){return{users:e.UsersPage.users,pageSize:e.UsersPage.pageSize,totalUsersCount:e.UsersPage.totalUsersCount,currentPage:be(e),isFetching:Pe(e),followProgress:Ne(e),portionSize:e.UsersPage.portionSize}}),{followingInProgress:Ee,getUsers:function(e,t){return function(a){a(function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}}(e)),a(he(!0)),ne(e,t).then((function(e){a(he(!1)),a({type:"SET_USERS",users:e.items}),a({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:e.totalCount})}))}},follow:function(e){return function(t){t(Ee(!0,e)),re(e).then((function(a){0===a.data.resultCode&&t({type:"FOLLOW",usersId:e}),t(Ee(!1,e))}))}},unfollow:function(e){return function(t){t(Ee(!0,e)),oe(e).then((function(a){0===a.data.resultCode&&t({type:"UNFOLLOW",usersId:e}),t(Ee(!1,e))}))}}})(Se),Ie=a(141),je=a.n(Ie),Ue=a(31),De=a.n(Ue),xe=a(97),Te=a.n(xe),Ae=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={editMode:!1,status:e.props.status},e.onStatusChange=function(t){e.setState({status:t.currentTarget.value})},e.ActivateEditMode=function(){e.props.isOwner&&e.props.isOwner!==e.props.authorizedUserID||e.setState({editMode:!0})},e.DeactivateEditMode=function(){e.setState({editMode:!1},e.props.updateStatus(e.state.status))},e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){e!==this.props&&this.setState({status:this.props.status})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:Te.a.mainContainer},!this.state.editMode&&r.a.createElement("div",null,r.a.createElement("span",{onDoubleClick:this.ActivateEditMode,className:Te.a.statusText},this.props.status)),this.state.editMode&&r.a.createElement("div",null,r.a.createElement("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.DeactivateEditMode,value:this.state.status}))))}}]),a}(r.a.Component),Me=a(60),Le=a.n(Me),Fe=M("input"),ze=Object(j.a)({form:"profileData"})((function(e){return r.a.createElement("div",{className:Le.a.container},r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement("div",{className:Le.a.buttons},r.a.createElement("div",null," ",r.a.createElement("button",{className:Le.a.btn,type:"submit"},"save")),r.a.createElement("div",null," ",r.a.createElement("button",{onClick:e.onCancel,className:Le.a.btn},"cancel"))),e.error?r.a.createElement("div",{className:x.a.spanError},e.error):void 0,"About me: ",r.a.createElement(I.a,{type:"text",name:"aboutMe",placeholder:"",component:Fe}),"Your fullname ",r.a.createElement(I.a,{type:"text",name:"fullName",placeholder:"",component:Fe}),"Are you looking for a job? ",r.a.createElement(I.a,{type:"checkbox",name:"lookingForAJob",placeholder:"",component:Fe}),"Please tell us about your skills  ",r.a.createElement(I.a,{type:"text",name:"lookingForAJobDescription",placeholder:"",component:Fe}),"You in social networks",Object.entries(e.profile.contacts).map((function(e){var t=Object(Oe.a)(e,2),a=t[0];t[1];return r.a.createElement(I.a,{type:"text",name:"contacts."+a,placeholder:a,component:Fe,key:a})}))))})),Re=function(e){var t=Object(n.useState)(!1),a=Object(Oe.a)(t,2),o=a[0],s=a[1];if(!e.profile)return r.a.createElement(te,null);function i(t){t.target.files.length&&e.savePhoto(t.target.files[0])}var l=function(e){var t=e.contactTitle,a=e.contactValue;return r.a.createElement("div",null," ",t,":",a)},c=function(e){return r.a.createElement("div",null,r.a.createElement("p",null," About user: ",e.profile.aboutMe," "),r.a.createElement("p",null," Looking for a job: ",!0===e.profile.lookingForAJob?r.a.createElement("span",null,"yes"):r.a.createElement("span",null,"no")," "),r.a.createElement("div",null,"Description: ",null===e.profile.lookingForAJobDescription?r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consequuntur corporis dolorum est eum ex inventore, ipsa laudantium minus nemo tempora."):e.profile.lookingForAJobDescription),r.a.createElement("div",null,r.a.createElement("p",null,"Contacts:"),Object.entries(e.profile.contacts).map((function(e){var t=Object(Oe.a)(e,2),a=t[0],n=t[1];return n?r.a.createElement(l,{contactTitle:a,contactValue:n,key:a}):null}))))};var u=function(){return r.a.createElement("input",{type:"file",onChange:i})};return r.a.createElement("div",null,r.a.createElement("div",{className:De.a.container},r.a.createElement("div",{className:De.a.box},r.a.createElement("div",{className:De.a.background},null==e.profile.photos.small?r.a.createElement("img",{src:"https://i.pinimg.com/originals/a9/d0/96/a9d096ac9430a4f297ed99d42861ae9d.jpg",className:De.a.avatar}):r.a.createElement("img",{src:e.profile.photos.small,className:De.a.avatar}),r.a.createElement("div",null,"  ",(!e.isOwner||e.isOwner===e.authorizedUserID)&&r.a.createElement(u,null)),r.a.createElement("div",{className:De.a.userName},e.profile.fullName)),r.a.createElement("div",null,r.a.createElement(Ae,{updateStatus:e.updateStatus,status:e.status,authorizedUserID:e.authorizedUserID,isOwner:e.isOwner})),o?r.a.createElement(ze,{profile:e.profile,onSubmit:function(t){e.updateProfile(t),s(!1)},onCancel:e.onCancel}):r.a.createElement("div",null,r.a.createElement(c,{profile:e.profile}),(!e.isOwner||e.isOwner===e.authorizedUserID)&&r.a.createElement("button",{onClick:function(e){return s(!0)},className:De.a.btn},"edit")))))},Be=a(25),Ge="https://klike.net/uploads/posts/2019-03/1551511784_4.jpg",He={profile:null,status:null,postData:[{massege:"Hi there, I'm a new user",kartinka:Ge,likes:201,id:1,liked:!1},{massege:"Have a nice day to everyone",kartinka:Ge,likes:15,id:2,liked:!1},{massege:"I want to get an awesome experience",kartinka:Ge,likes:64,id:3,liked:!1}],buttonDef:"like"},We=function(e){return function(t){se(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}},Ve=function(e){return{type:"SET_PROFILE_STATUS",status:e}},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":var a={massege:t.newPostText,kartinka:"https://klike.net/uploads/posts/2019-03/1551511784_4.jpg",likes:12};return Object(v.a)({},e,{postData:[].concat(Object(E.a)(e.postData),[a])});case"ADD_LIKE":return Object(v.a)({},e,{postData:e.postData.map((function(e){return e.id===t.postId&&!1===e.liked?e=Object(v.a)({},e,{likes:e.likes+1,liked:!0}):e.id===t.postId&&!0===e.liked&&(e=Object(v.a)({},e,{likes:e.likes-1,liked:!1})),e}))});case"SET_USER_PROFILE":return Object(v.a)({},e,{profile:t.profile});case"SET_PROFILE_STATUS":return Object(v.a)({},e,{status:t.status});case"SAVE_PHOTO":return Object(v.a)({},e,{profile:Object(v.a)({},e.profile,{photos:t.photos})});default:return e}},qe=a(39),Ke=a.n(qe),Je=a(61),Qe=a.n(Je),Ye=function(e){return e.postData.map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement("div",{className:Qe.a.item},r.a.createElement("div",{className:Qe.a.container},r.a.createElement("div",{className:Qe.a.avatar},r.a.createElement("img",{src:t.kartinka})),r.a.createElement("div",null,t.massege)),r.a.createElement("span",null,t.likes," likes ",r.a.createElement("button",{className:Qe.a.shareButton,onClick:function(){e.addLike(t.id)}},t.liked?r.a.createElement("i",{className:"fas fa-heart"}," "):r.a.createElement("i",{className:"far fa-heart"}," ")))))}))},Xe=M("textarea"),$e=function(e){return function(t){return t&&t.length>e?"Must be ".concat(e," characters or less"):void 0}}(30),et=Object(j.a)({form:"addPost"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(I.a,{validate:[$e],name:"newPostText",component:Xe,className:Ke.a.textarea}),r.a.createElement("button",{type:"submit",className:Ke.a.shareButton},"Submit "))})),tt=function(e){return r.a.createElement("div",{className:Ke.a.container},r.a.createElement("div",{className:Ke.a.newPost},r.a.createElement("div",{className:Ke.a.myPost},"My posts"),r.a.createElement(et,{onSubmit:function(t){e.addPost(t.newPostText)}})),r.a.createElement("div",{className:Ke.a.posts},r.a.createElement(Ye,{postData:e.postData,addLike:e.addLike,buttonDef:e.buttonDef,profile:e.profile})))},at=Object(B.b)((function(e){return{postData:e.ProfilePage.postData,newPostText:e.ProfilePage.newPostText,buttonDef:e.ProfilePage.buttonDef,profile:e.ProfilePage.profile}}),{addPost:function(e){return{type:"ADD_POST",newPostText:e}},addLike:function(e){return{type:"ADD_LIKE",postId:e}}})(tt),nt=function(e){return r.a.createElement("div",{className:je.a.container},r.a.createElement(Re,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,authorizedUserID:e.authorizedUserID,savePhoto:e.savePhoto,updateProfile:e.updateProfile,isOwner:e.isOwner}),r.a.createElement(at,null))},rt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserID),this.props.getUserProfile(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(nt,{savePhoto:this.props.savePhoto,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,authorizedUserID:this.props.authorizedUserID,updateProfile:this.props.updateProfile,isOwner:this.props.match.params.userId})}}]),a}(r.a.Component),ot=Object(G.d)(Object(B.b)((function(e){return{profile:e.ProfilePage.profile,status:e.ProfilePage.status,authorizedUserID:e.auth.id}}),{getUserProfile:We,getProfileStatus:function(e){return function(t){ue(e).then((function(e){t(Ve(e.data))}))}},updateStatus:function(e){return function(t){me(e).then((function(a){0===a.data.resultCode&&t(Ve(e))}))}},savePhoto:function(e){return function(t){pe(e).then((function(e){0===e.data.resultCode&&t({type:"SAVE_PHOTO",photos:e.data.data.photos})}))}},updateProfile:function(e){return function(t,a){var n=a().auth.id;de(e).then((function(e){if(0===e.data.resultCode)t(We(n));else{var a=e.data.messages.length>0?e.data.messages[0]:"Something wrong";t(Object(Be.a)("profileData",{_error:a}))}}))}}}),p.f,W)(rt),st=a(47),it=a.n(st),lt={data:{id:null,email:null,login:null,isAuth:!1,photo:null,captchaUrl:null}},ct=function(e,t,a,n){return{type:"SET_USER_DATA",data:{id:e,email:t,login:a,isAuth:n}}},ut=function(){return function(e){return ie().then((function(t){if(0===t.data.resultCode){var a=t.data.data,n=a.id,r=a.email,o=a.login;e(ct(n,r,o,!0))}}))}},mt=function(){return function(e){fe().then((function(t){var a=t.data.url;e(function(e){return{type:"GET_CAPTCHA_URL",captchaUrl:e}}(a))}))}},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(v.a)({},e,{},t.data);case"GET_CAPTCHA_URL":return Object(v.a)({},e,{captchaUrl:t.captchaUrl});default:return e}},dt=M("input"),ft=function(e){return e?void 0:"Required"},gt=A()(it.a.btn,it.a.btnSpecial),ht=Object(j.a)({form:"login"})((function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit},r.a.createElement(I.a,{type:"login",name:"email",placeholder:"your login",component:dt,validate:ft}),r.a.createElement(I.a,{type:"password",name:"password",placeholder:"your password",component:dt,validate:ft}),r.a.createElement(I.a,{type:"checkbox",name:"rememberMe",component:"input"})," remember me",e.error?r.a.createElement("div",{className:x.a.spanError},e.error):r.a.createElement(r.a.Fragment,null),e.captchaUrl&&r.a.createElement("div",null,r.a.createElement("img",{src:e.captchaUrl,alt:"captcha"}),r.a.createElement("div",null,r.a.createElement(I.a,{type:"text",name:"captcha",placeholder:"enter symbols what you see",component:"input"}))," "),r.a.createElement("button",{type:"submit",className:gt},"Submit"))})),Et=Object(B.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,a,n){return function(r){le(e,t,a,n).then((function(e){if(0===e.data.resultCode)r(ut());else{10===e.data.resultCode&&r(mt());var t=e.data.messages.length>0?e.data.messages[0]:"Some error";r(Object(Be.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement("div",null,r.a.createElement("div",{className:it.a.container},r.a.createElement("div",null,r.a.createElement("p",{className:it.a.loginText}," LOGIN")),r.a.createElement(ht,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})))})),vt={initialized:!1},_t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_DONE":return Object(v.a)({},e,{initialized:!0});default:return e}},bt=a(142),Pt=a(131),Nt=Object(G.c)({ProfilePage:Ze,MassagePage:b,UsersPage:ve,auth:pt,form:Pt.a,appCommon:_t}),Ot=Object(G.e)(Nt,Object(G.a)(bt.a));window.store=Ot;var kt=Ot,Ct=a(98),wt=a.n(Ct),St=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:wt.a.footerContainer},r.a.createElement("div",{className:wt.a.authorInfo},"site design / logo \xa9 2020 Igor Selin; All rights aren't received")))},yt=a(143),It=a.n(yt),jt=function(){return r.a.createElement("div",{className:It.a.settingsContainer},r.a.createElement("div",null," In processing"))},Ut=a(75),Dt=a.n(Ut),xt=a(10),Tt=a.n(xt),At=a(32),Mt=a.n(At),Lt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){Mt()((function(){var e=Mt()("#inner"),t=e.innerHeight();Mt()(window).on("scroll resize load",(function(){Mt()(window).scrollTop()>t?e.addClass(Tt.a.fixed):e.removeClass(Tt.a.fixed)}));var a=Mt()("#container");Mt()("#toggleMenu").on("click",(function(e){e.preventDefault(),a.toggleClass(Tt.a.show)})),Mt()("#container:only-child").on("click",(function(){a.removeClass(Tt.a.show)}))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"inner"},r.a.createElement("header",{className:Dt.a.Header},r.a.createElement("div",null,r.a.createElement("div",{className:Dt.a.logoContainer},r.a.createElement("div",null,r.a.createElement("img",{alt:"logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Inkscape.logo.svg/390px-Inkscape.logo.svg.png"})),r.a.createElement("div",{className:Dt.a.nameLogo},"Keetouch"))),r.a.createElement("button",{className:Tt.a.burger},"  ",r.a.createElement("div",{id:"toggleMenu"},r.a.createElement("i",{className:"fas fa-bars"})))),r.a.createElement("nav",{className:Tt.a.Nav,id:"nav"},r.a.createElement("div",null,r.a.createElement("div",{className:Tt.a.Container,id:"container"},r.a.createElement(d.b,{to:"/profile",className:Tt.a.nav,activeClassName:Tt.a.active,id:"navItem"},"Profile"),r.a.createElement(d.b,{to:"/messages",className:Tt.a.nav,activeClassName:Tt.a.active,id:"navItem"},"Messages"),r.a.createElement(d.b,{to:"/users",className:Tt.a.nav,activeClassName:Tt.a.active,id:"navItem"}," Users"),r.a.createElement(d.b,{to:"/music",className:Tt.a.nav,activeClassName:Tt.a.active,id:"navItem"},"Music"),r.a.createElement(d.b,{to:"/setting",className:Tt.a.nav,activeClassName:Tt.a.active,id:"navItem"}," Setting"),this.props.isAuth?r.a.createElement(d.b,{to:"#",className:Tt.a.nav,onClick:this.props.logout,id:"navItem"},"Exit"):r.a.createElement(d.b,{className:Tt.a.nav,to:"/login",id:"navItem"},"Login"))))))}}]),a}(r.a.Component);var Ft=Object(B.b)((function(e){return{isAuth:e.auth.isAuth}}),{logout:function(){return function(e){ce().then((function(t){0===t.data.resultCode&&e(ct(null,null,null,!1))}))}}})(Lt),zt=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement("div",{className:"app-wrapper"},r.a.createElement(Ft,null),r.a.createElement("div",{className:"app-wrapper-content"},r.a.createElement(p.b,{path:"/",render:function(){return r.a.createElement(p.a,{to:"/profile"})}}),r.a.createElement(p.b,{path:"/profile/:userId?",render:function(){return r.a.createElement(ot,null)}}),r.a.createElement(p.b,{path:"/messages",render:function(){return r.a.createElement(V,null)}}),r.a.createElement(p.b,{path:"/users",render:function(){return r.a.createElement(ye,null)}}),r.a.createElement(p.b,{path:"/music",component:h}),r.a.createElement(p.b,{path:"/login",render:function(){return r.a.createElement(Et,null)}}),r.a.createElement(p.b,{path:"/setting",render:function(){return r.a.createElement(jt,null)}})),r.a.createElement(St,null)):r.a.createElement(te,null)}}]),a}(r.a.Component),Rt=Object(G.d)(p.f,Object(B.b)((function(e){return{initialized:e.appCommon.initialized}}),{initializeApp:function(){return function(e){var t=e(ut());Promise.all([t]).then((function(){e({type:"INITIALIZE_DONE"})}))}}}))(zt),Bt=function(){return r.a.createElement(d.a,null,r.a.createElement("link",{rel:"stylesheet",href:"https://use.fontawesome.com/releases/v5.6.1/css/all.css",integrity:"sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP",crossOrigin:"anonymous"}),r.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Notable&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,300;1,400;1,500;1,700;1,900&display=swap",rel:"stylesheet"}),r.a.createElement(B.a,{store:kt},r.a.createElement(Rt,null))," ")};s.a.render(r.a.createElement(Bt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){e.exports={container:"ProfileInfo_container__1_p0L",background:"ProfileInfo_background__3w3Tb",avatar:"ProfileInfo_avatar__94gwH",userName:"ProfileInfo_userName__dvTmu",btn:"ProfileInfo_btn__2Ur7K",bnt:"ProfileInfo_bnt__1ggGH"}},36:function(e,t,a){e.exports={error:"FormsControls_error__2VFQj",spanError:"FormsControls_spanError__1Mq62"}},38:function(e,t,a){e.exports={dialogs:"DialogItem_dialogs__j5aoV",photo:"DialogItem_photo__1ZyNr",kartinka:"DialogItem_kartinka__38DFl",nameDialog:"DialogItem_nameDialog__20G0F",active:"DialogItem_active__1bIbB"}},39:function(e,t,a){e.exports={container:"MyPosts_container__1KYtV",textarea:"MyPosts_textarea__3jVek",myPost:"MyPosts_myPost__3qUC0",shareButton:"MyPosts_shareButton__3Puxw"}},47:function(e,t,a){e.exports={loginText:"LoginPage_loginText__2cd9n",container:"LoginPage_container__Z1pGd",btn:"LoginPage_btn__1s6sA",btnSpecial:"LoginPage_btnSpecial__hjrYd"}},48:function(e,t,a){e.exports={mainMessages:"Masseges_mainMessages__3kc2j",dialogsContainer:"Masseges_dialogsContainer__btPRW",textarea:"Masseges_textarea__36MHu",dialogs:"Masseges_dialogs__3AtMl",shareButton:"Masseges_shareButton__2rtqU"}},49:function(e,t,a){e.exports={userImg:"Users_userImg__3Ymve",container:"Users_container__2WnKZ",avatarName:"Users_avatarName__2HA0u",infoUser:"Users_infoUser___GaNi",followBtn:"Users_followBtn__2ZKZF"}},50:function(e,t,a){e.exports={selectedPage:"Paginator_selectedPage__19j_0",button:"Paginator_button__3QbqN",buttonsContainer:"Paginator_buttonsContainer__2afpd",controlButton:"Paginator_controlButton__VIn89"}},60:function(e,t,a){e.exports={buttons:"ProfileFormData_buttons__3OnP2",container:"ProfileFormData_container__ZVVt5",btn:"ProfileFormData_btn__FIfGe"}},61:function(e,t,a){e.exports={item:"Post_item__vBCga",container:"Post_container__35QhF",avatar:"Post_avatar__1ydsm",shareButton:"Post_shareButton__bNwaU"}},75:function(e,t,a){e.exports={Header:"Header_Header__1491N",logoContainer:"Header_logoContainer__342c1",nameLogo:"Header_nameLogo__1EBMh"}},96:function(e,t,a){e.exports={preloader:"Preloader_preloader__1eGGW"}},97:function(e,t,a){e.exports={mainContainer:"ProlifeStatus_mainContainer__p1Ia7",statusText:"ProlifeStatus_statusText__yTgLM"}},98:function(e,t,a){e.exports={footerContainer:"Footer_footerContainer__kQuAF",authorInfo:"Footer_authorInfo__2onlG"}}},[[170,1,2]]]);
//# sourceMappingURL=main.3ce114e3.chunk.js.map